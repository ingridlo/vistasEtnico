<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Estadísticas de Comunidades</title>
    <link
      href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Asegúrate de incluir Font Awesome para los iconos de acciones -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    />
    <!-- Responsive DataTables CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/responsive/2.2.7/css/responsive.dataTables.min.css"
    />

    <style>
      .content-wrapper {
        padding: 20px;
      }
      .actions-btn {
        display: inline-block;
        margin-right: 5px;
      }
      .dataTables_wrapper .dataTables_filter {
        float: right;
      }
      .table-dark {
        color: white;
      }

      .table-dark th {
        color: rgb(5, 5, 5);
        background-color: #10dae7;
      }

      .dataTables_wrapper .dataTables_paginate .paginate_button.current,
      .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
        color: rgb(196, 43, 43) !important;
        background-color: #265e9a !important;
        border-color: #007bff !important;
      }
    </style>
  </head>
  <body>
    <div class="content-wrapper">
      <section class="content">
        <div class="invoice p-3 mb-3">
          <h2 class="text-center">Comunidades</h2>
          <div class="row">
            <div class="col-12 table-responsive">
              <table id="myTable" class="table table-hover">
                <thead class="table-dark">
                  <tr>
                    <th>Id</th>
                    <th>Comunidad</th>
                    <th>Consejo comunitario</th>
                    <th>Pueblo</th>
                    <th>Territorial</th>
                    <th>Municipio</th>
                    <th>Corregimiento</th>
                    <th>Familias</th>
                    <th>Habitantes</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody>                  
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script
    type="text/javascript"
    src="https://cdn.datatables.net/responsive/2.2.7/js/dataTables.responsive.min.js"
  ></script>
    <script>
      $(document).ready(function () {
        $("#myTable").DataTable({
          responsive: true,
          ajax: {
            url: "../datos_comunidades.json", 
            dataSrc: "",
          },
          columns: [
            { data: "id" },
            { data: "nombre_comunidad" },
            { data: "consejo_comunitario" },
            {
              data: "pueblo",
              render: function(data, type, row, meta){                
                return '<a href=infoPueblos.html?nombre=' + encodeURIComponent(data) + '>' + data + '</a>';
              }
            },
            { data: "territorial" },
            { data: "municipio" },
            { data: "corregimiento" },
            { data: "familias" },
            { data: "habitantes" },
            {
              data: null,
              defaultContent: `
                        <a class="actions-btn" href="#"><i class="fas fa-eye"></i></a>
                        <a class="actions-btn" href="#"><i class="fas fa-edit"></i></a>
                        <a class="actions-btn" href="#"><i class="fas fa-trash-alt"></i></a>
                    `,
            },
          ],
          pageLength: 10,
          language: {
            search: "Buscar:",
            paginate: {
              first: "Primero",
              last: "Último",
              next: "Siguiente",
              previous: "Anterior",
            },
            lengthMenu: "",
            zeroRecords: "No se encontraron registros",
            info: "",
            infoEmpty: "No hay registros disponibles",
            infoFiltered: "(filtrado de _MAX_ registros totales)",
          },
          ordering: false,
        });
      });
    </script>
  </body>
</html>
